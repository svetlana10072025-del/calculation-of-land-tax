# .github/workflows/warmup.yml
name: üî• –ü—Ä–æ–≥—Ä–µ–≤ –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä–æ–≤

on:
  schedule:
    # –ö–∞–∂–¥—ã–µ 30 –º–∏–Ω—É—Ç
    - cron: '0,30 * * * *'
  workflow_dispatch:

jobs:
  warmup:
    runs-on: ubuntu-latest
    
    steps:
    - name: üî• –ü—Ä–æ–≥—Ä–µ–≤
      run: |
        echo "=== –ü–†–û–ì–†–ï–í –ó–ê–ü–£–©–ï–ù ==="
        date
        
        # –í–∞—à–∏ –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä—ã
        URL1="https://calculation-of-land-tax-4sx2mxfrtshecl77uvz7l6.streamlit.app/"
        URL2="https://calculation-eco-tax-xfu9rozazao4heudm3p6gz.streamlit.app/"
        URL3="https://calculation-of-excise-bnrlk8d8pnf4wpwhwvnpfj.streamlit.app/"
        URL4="https://calculation-of-mining-tax-jvospomyc4pgvpy8ubrrrw.streamlit.app/"
        URL5="https://calculation-of-oil-tax-fsdt98ampwhs5pzpfzuhsy.streamlit.app/"
        URL6="https://calculation-of-tax-bfapeep5eknsp2xxs5kfij.streamlit.app/"
        
        # –§—É–Ω–∫—Ü–∏—è –¥–ª—è –ø—Ä–æ–≥—Ä–µ–≤–∞
        warm_up() {
          echo "–ü—Ä–æ–≥—Ä–µ–≤: $1"
          curl -s -L -o /dev/null -m 180 "$1?_warmup=$(date +%s)"
          echo "–°—Ç–∞—Ç—É—Å: $?"
          sleep 5
        }
        
        # –ü—Ä–æ–≥—Ä–µ–≤–∞–µ–º –ø–æ –æ–¥–Ω–æ–º—É
        warm_up "$URL1"
        warm_up "$URL2"
        warm_up "$URL3"
        warm_up "$URL4"
        warm_up "$URL5"
        warm_up "$URL6"
        
        echo "‚úÖ –ü–†–û–ì–†–ï–í –ó–ê–í–ï–†–®–ï–ù"
        date
